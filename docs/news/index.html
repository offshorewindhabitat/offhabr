<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • offhabr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">offhabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.12.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ecoquants/offhabr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/ecoquants/offhabr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0" id="offhabr-0120">offhabr 0.12.0<a class="anchor" aria-label="anchor" href="#offhabr-0120"></a></h2>
<ul><li>Fixed all warnings with package loading and moved packages to Suggests for loading <a href="https://github.com/ecoquants/offhab-scripts/tree/cbce3bd670d49deb571202d617bd64acd09620d6/sp_map" class="external-link">offhab-scripts: sp_map/</a> Shiny app into <a href="https://ShinyApps.io" class="external-link">ShinyApps.io</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.0" id="offhabr-0110">offhabr 0.11.0<a class="anchor" aria-label="anchor" href="#offhabr-0110"></a></h2>
<ul><li>Intersected <code>oh_zones</code> with <code>oa_rgns</code> to further differentiate portions of zones with and without bottom trawl models.</li>
<li>Updated <code>oh_zones</code> to having two <code>zone_version</code> values for with (<code>2</code>) and without (<code>1</code>) OceanAdapt regions for using and skipping bottom trawl data.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.0" id="offhabr-0100">offhabr 0.10.0<a class="anchor" aria-label="anchor" href="#offhabr-0100"></a></h2>
<ul><li><p>Added <code>oa_regions</code> (<a href="https://www.fisheries.noaa.gov/inport/item/67352" class="external-link">Ocean Adapt regions</a>) to map limits of interpolated bottom trawl model results.</p></li>
<li>
<p>Renamed:</p>
<ul><li>data: <code>boem_blocks</code> -&gt; <code>oh_blocks</code>
</li>
<li>table: <code>boem_blocks</code> -&gt; <code>blocks</code>
</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="offhabr-090">offhabr 0.9.0<a class="anchor" aria-label="anchor" href="#offhabr-090"></a></h2>
<ul><li><p>Added <strong>hydrothermal vents</strong> (<a href="https://doi.pangaea.de/10.1594/PANGAEA.917894" class="external-link">InterRidge Global Database of Active Submarine Hydrothermal Vent Fields Version 3.4</a>) with <code>data-raw/mdls_ve.R</code>, which for US are only in Northern California (n=3) and Washington/Oregon (n=4) with a 12 km radius zone of influence based on splitting the difference between studies showing biogeographic influence out to 100 km^2 (Haymon et al., 1990) and 200 km^2 (Van Dover et al., 2002) [<code>round(sqrt(mean(c(200,100)))) = 12</code>].</p></li>
<li><p>Added <strong>seamounts</strong> (<a href="http://www.soest.hawaii.edu/PT/SMTS" class="external-link">Global Seamount Database</a>) with <code>data-raw/mdls_sm.R</code>, which for US are in Central California (n=3), North Atlantic (n=4), Northern California (n=4), Southern California (n=14), and Washington/Oregon (n=18). Created circles of influence based on area (calculated from major and minor axes of ellipse). All summit depths were greater than 800 m, the third class of biogeographic distinction (Clark et al, 2011).</p></li>
<li><p>Added <strong>productivity</strong> (<a href="http://sites.science.oregonstate.edu/ocean.productivity" class="external-link">Ocean Productivity from Oregon State</a>) with <code>data-raw/mdls_vg.R</code> for the entire US OffHab study area. Averaged the 12 monthly products using the Vertically Generalized Production Model (VGPM) algorithm (Behrenfeld &amp; Falkowski, 1997a).</p></li>
<li><p>Fixed missing data from earlier ingestion of <strong>bottom trawl</strong> (<code>data-raw/mdls_oa.R</code>) when cell_id was not saving raster in format, creating duplicates.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="offhabr-080">offhabr 0.8.0<a class="anchor" aria-label="anchor" href="#offhabr-080"></a></h2>
<ul><li>Ported original <a href="https://github.com/ecoquants/offhab-scripts/blob/cd6b2e4ff667cd81d3399b2e9538dcf5494ac9c3/interpolate_bottom-trawl.Rmd?h=1" class="external-link">offhab-scripts: interpolate_bottom-trawl.Rmd</a> into <code>data-raw/mdls_oa.R</code> with <code>multidplyr</code> parallel processing to speed up raster generation of interpolated biomass survey points. These are the <strong>bottom trawl</strong> models from <a href="https://oceanadapt.rutgers.edu" class="external-link">OceanAdapt</a> that have been ported to <a href="https://apps-st.fisheries.noaa.gov/dismap/DisMAP.html" class="external-link">NOAA Distribution Mapping and Analysis Portal (DisMAP)</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.1" id="offhabr-071">offhabr 0.7.1<a class="anchor" aria-label="anchor" href="#offhabr-071"></a></h2>
<ul><li>Loaded <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:256800" class="external-link"><strong>cetacean and sea turtle</strong> spatial density model outputs … in the Gulf of Mexico</a> into database with <code>data-raw/mdls_gm.R</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="offhabr-070">offhabr 0.7.0<a class="anchor" aria-label="anchor" href="#offhabr-070"></a></h2>
<ul><li><p>Added searching for non-marine taxa with <code><a href="../reference/wm_add_aphia_id.html">wm_add_aphia_id()</a></code> and allowance for extra query parameters with <code><a href="../reference/wm_rest.html">wm_rest()</a></code>, e.g. <code>wm_rest(tbl, fld, operation = "AphiaRecordsByNames", marine_only = F)</code></p></li>
<li><p>Added <strong>seabird</strong> “NCCOS Assessments Modeling At-Sea Density of Marine Birds” for <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0176682" class="external-link">Atlantic</a> and <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc:0242882" class="external-link">Pacific</a> with <code>data-raw/mdls_nc.R</code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.1" id="offhabr-061">offhabr 0.6.1<a class="anchor" aria-label="anchor" href="#offhabr-061"></a></h2>
<ul><li><p>Added <a href="https://seamap.env.duke.edu/models/Duke/EC/" class="external-link">Habitat-based <strong>Marine Mammal</strong> Density Models for the U.S. Atlantic: Latest Versions</a> with <code>data-raw/mdsl_du.R</code></p></li>
<li><p>Added <code>operation="AphiaRecordsByVernacular"</code> option to <code><a href="../reference/wm_rest.html">wm_rest()</a></code> for searching common names.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="offhabr-060">offhabr 0.6.0<a class="anchor" aria-label="anchor" href="#offhabr-060"></a></h2>
<ul><li><p>Added <code><a href="../reference/oh_rast.html">oh_rast()</a></code> for fetching OffHab reference raster by <code>cell_id</code>, <code>zone_id</code> or all <code>NA</code> and optionally trimming to <code>zone_id</code></p></li>
<li><p>Fixed <code><a href="../reference/wm_add_aphia_id.html">wm_add_aphia_id()</a></code> which wasn’t properly including fuzzy matches and updated <code>wm_rest_params</code> with practical values to fetch all data (versus theoretical maxima which bonked when URL of request got too long)</p></li>
<li><p>Intersected AquaMaps with new OffHab reference raster in <code>data-raw/am_cells_ply.R</code></p></li>
<li><p>Imported marine <a href="https://www.iucnredlist.org/resources/spatial-data-download" class="external-link">IUCN <strong>range</strong> maps</a> into the OffHab database with <code>data-raw/mdls_rl.R</code> using new <code><a href="../reference/rl_pg_con.html">rl_pg_con()</a></code> to import the full set of data before clipping to the OffHab zones into the OffHab database (<code><a href="../reference/oh_pg_con.html">oh_pg_con()</a></code>).</p></li>
<li><p>Imported <a href="https://www.fisheries.noaa.gov/inport/item/64349" class="external-link">Predictive Models of <strong>Cetacean</strong> Densities in the California Current Ecosystem, 2020b | InPort</a> with <code>data-raw/mdsl_sw.R</code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.2" id="offhabr-052">offhabr 0.5.2<a class="anchor" aria-label="anchor" href="#offhabr-052"></a></h2>
<ul><li>Added <code>zone_id</code> column to <code>oh_zones</code> and <code>block_id</code> column to <code>boem_blocks</code> for integer referencing with rasters</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.1" id="offhabr-051">offhabr 0.5.1<a class="anchor" aria-label="anchor" href="#offhabr-051"></a></h2>
<ul><li>Updated documentation for <code><a href="../reference/wm_add_aphia_id.html">wm_add_aphia_id()</a></code> (now with <code>Roxygen: list(markdown = TRUE)</code> turned on)</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="offhabr-050">offhabr 0.5.0<a class="anchor" aria-label="anchor" href="#offhabr-050"></a></h2>
<ul><li><p>Added <code><a href="../reference/wm_add_aphia_id.html">wm_add_aphia_id()</a></code> to match and prepend <code>aphia_id</code> from WoRMS REST services using new <code><a href="../reference/wm_rest.html">wm_rest()</a></code> helper function, which uses new dataset <code>wm_rest_params</code></p></li>
<li><p>Added dataset <code>mdls_sw</code> table into db (see <code>data-raw/mdls_sw.R</code> on Github): <a href="https://www.fisheries.noaa.gov/inport/item/64349" class="external-link">Predictive Models of <strong>Cetacean</strong> Densities in the California Current Ecosystem, 2020b | InPort</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.2" id="offhabr-042">offhabr 0.4.2<a class="anchor" aria-label="anchor" href="#offhabr-042"></a></h2>
<ul><li>Added <code>data-raw/taxa_worrms.R</code> for matching so far <code>am_spp.{genus} {species}</code> with “WoRMS - World Register of Marine Species” <a href="https://www.marinespecies.org" class="external-link">MarineSpecies.org</a> using its API web service <a href="https://www.marinespecies.org/rest/" class="external-link">marinespecies.org/rest</a> and the R package <a href="https://docs.ropensci.org/worrms/articles/worrms.html" class="external-link">worrms</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.1" id="offhabr-041">offhabr 0.4.1<a class="anchor" aria-label="anchor" href="#offhabr-041"></a></h2>
<ul><li>Renamed <code>oh_map_ply()</code> to <code><a href="../reference/oh_map.html">oh_map()</a></code> and added <code><a href="../reference/oh_add_ply.html">oh_add_ply()</a></code> to accomodate adding multiple layers of polygons, eg blocks on top of zones.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="offhabr-040">offhabr 0.4.0<a class="anchor" aria-label="anchor" href="#offhabr-040"></a></h2>
<ul><li><p>Added <code>oh_map_ply()</code> to map polygons, possibly with divergent midpoint in the color scheme using <code>div_mid</code> argument.</p></li>
<li><p>Added <code>oh_zones_s1k</code>: simplified version of <code>oh_zones</code> to 1 km for faster rendering of smaller output files</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="offhabr-030">offhabr 0.3.0<a class="anchor" aria-label="anchor" href="#offhabr-030"></a></h2>
<ul><li>Added <code>am_cell_blocks</code> dataset from intersecting OffHab zone x AquaMaps cell x BOEM block; + corresponding raster with <code><a href="../reference/get_am_cell_blocks_grd.html">get_am_cell_blocks_grd()</a></code>; + database helper function <code><a href="../reference/create_index.html">create_index()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="offhabr-020">offhabr 0.2.0<a class="anchor" aria-label="anchor" href="#offhabr-020"></a></h2>
<ul><li>Migrated entire <strong>AquaMaps</strong> DB into dedicated <code>aquamaps</code> postgres database (+ <code><a href="../reference/am_pg_con.html">am_pg_con()</a></code>; for calculating range size of each species) and used cross-database querying to extract subset of cells and species within <code>oh_zones</code> to into <code>offhab</code> postgres database with <code>am_*</code> prefix (see <code>data-raw/aquamaps_db.R</code>).</li>
<li>Cleaned up field names to be all lower-case, added table <code>am_meta</code> into database.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="offhabr-010">offhabr 0.1.0<a class="anchor" aria-label="anchor" href="#offhabr-010"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
<li>Created initial R package with prepped spatial data bounds &amp; db con containing functions: <code>get_am_cells_grd()</code>, <code><a href="../reference/oh_pg_con.html">oh_pg_con()</a></code>; datasets: <code>am_cells_ply</code>, <code>boem_blocks</code>, <code>oh_zones</code>
</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ben Best.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

